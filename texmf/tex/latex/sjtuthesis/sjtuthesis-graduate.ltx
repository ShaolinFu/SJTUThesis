%%
%% This is file `sjtuthesis-graduate.ltx',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% sjtuthesis.dtx  (with options: `graduate')
%% 
%% Copyright (C) 2009-2017 by weijianwen <weijianwen@gmail.com>
%%           (C) 2018-2022 by SJTUG
%% 
%% This file may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%     https://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%% 
%% This file has the LPPL maintenance status "maintained".
%% 
%% The Current Maintainer of this work is Alexara Wu.
%% 
\ProvidesFile{sjtuthesis-graduate.ltx}
  [2021/06/03 1.1.0rc1 Shanghai Jiao Tong University Thesis Template]
\geometry{%
  paper      = a4paper,
  top        = 3.5cm,
  bottom     = 4.0cm,
  left       = 3.3cm,
  right      = 2.8cm,
  headheight = 1.0cm,
  headsep    = 0.5cm,
}
\pagestyle{fancy}
\newcommand\sjtu@thepage@format[2]{---~{\bfseries{#1}}~---}
\def\sjtu@info@fund{}
\fancypagestyle{title}{%
  \fancyhf{}
  \fancyfoot[L]{\ifsjtu@review\relax\else\sjtu@info@fund\fi}
  \renewcommand\headrulewidth{0pt}
  \renewcommand\footrulewidth{0pt}
}
\fancypagestyle{plain}{%
  \fancyhf{}
  \if@twoside
    \ifsjtu@style@header@single
      \ifsjtu@style@header@include@major@true
        \fancyhead[CO]{\zihao{-5}\sjtu@name@subjectmajor@zh}
      \else
        \fancyhead[CO]{\zihao{-5}\sjtu@name@subject@zh}
      \fi
      \fancyhead[CE]{\zihao{-5}\leftmark}
    \else
      \ifsjtu@style@header@include@major@true
        \fancyhead[RE,LO]{\zihao{-5}\sjtu@name@subjectmajor@zh}
      \else
        \fancyhead[RE,LO]{\zihao{-5}\sjtu@name@subject@zh}
      \fi
      \fancyhead[RO,LE]{\zihao{-5}\leftmark}
    \fi
  \else
    \ifsjtu@style@header@single
      \ifsjtu@style@header@include@major@true
        \fancyhead[C]{\zihao{-5}\sjtu@name@subjectmajor@zh}
      \else
        \fancyhead[C]{\zihao{-5}\sjtu@name@subject@zh}
      \fi
    \else
      \ifsjtu@style@header@include@major@true
        \fancyhead[L]{\zihao{-5}\sjtu@name@subjectmajor@zh}
      \else
        \fancyhead[L]{\zihao{-5}\sjtu@name@subject@zh}
      \fi
      \fancyhead[R]{\zihao{-5}\leftmark}
    \fi
  \fi
  \fancyfoot[C]{%
    \ifsjtu@page@numbering
      \zihao{-5}\sjtu@thepage@format{\sjtu@thepage}{\sjtu@lastpageref}%
    \fi
  }
  \renewcommand\headrule{%
    \ifsjtu@style@header@rule@type@doublerule  
      \hrule\@height2.25pt\@width\headwidth
      \vskip 0.75pt
    \fi
    
    \hrule\@height0.75pt\@width\headwidth
    \vskip-3.75pt
  }
}
\renewcommand\cftchapfont{\bfseries\heiti}
\NewDocumentEnvironment{abstract}{}{%
  \sjtu@chapter*[\sjtu@name@abstract@zh]{%
    \sjtu@info@title@zh \vskip 2ex
    \begingroup
      \sjtu@name@abstract@zh
    \endgroup
  }[\sjtu@name@abstract]%
}{%
  \vskip \baselineskip \noindent
  \begingroup
    \heiti\sjtu@name@keywords@zh
  \endgroup
  \begingroup
    \sjtu@clist@use{\sjtu@info@keywords@zh}{，}
  \endgroup
}
\NewDocumentEnvironment{abstract*}{}{%
  \sjtu@chapter*[\sjtu@name@abstract@en]{%
    \MakeUppercase\sjtu@info@title@en \vskip 2ex
    \begingroup
      \MakeUppercase\sjtu@name@abstract@en
    \endgroup
  }[]
  \zihao{4}
}{%
  \vskip 3ex \noindent
  \begingroup
    \bfseries\MakeUppercase
    \sjtu@name@keywords@en
  \endgroup
  \begingroup
    \sjtu@clist@use{\sjtu@info@keywords@en}{, }
  \endgroup
}
\RenewDocumentCommand{\maketitle}{}{%
  \sjtu@pdfbookmark{0}{\sjtu@name@titlepage}    
  % Use title page form MEM of SEIEE if specified, or use normal title page
  \ifsjtu@titlepage@memofseiee
    \sjtu@make@titlepageemseiee@zh
    \sjtu@make@titlepageemseiee@en
  \else
    \sjtu@make@titlepage@zh
    \sjtu@make@titlepage@en%
  \fi  
}
\newcommand\sjtu@make@titlepage@zh{%
  \cleardoublepage
  \def\sjtu@info@fund{\zihao{-5}\sjtu@clist@use{\sjtu@info@fund@zh}{\par}}
  \thispagestyle{title}
  \begin{center}
    \vspace*{28pt}
    {\zihao{-2}\sjtu@name@subject@zh\par}
    \vskip \stretch{4}
    {\zihao{2}\heiti\sjtu@info@display@title@zh\par}
    \vskip \stretch{5}
    \begingroup
      \zihao{4}
      \def\arraystretch{1.25}
      \begin{tabular}{@{}>{\heiti}F{t}{6.5\ccwd}@{\sjtu@colon}l@{}}
        \sjtu@name@author@zh           & \sjtu@info@author@zh         \\
        \sjtu@name@id@zh               & \sjtu@info@id                \\
        \sjtu@name@supervisor@zh       & \sjtu@info@supervisor@zh     \\
        \ifx\sjtu@info@assisupervisor@zh\@empty\else
          \sjtu@name@assisupervisor@zh & \sjtu@info@assisupervisor@zh \\
        \fi
        \sjtu@name@degree@zh           & \sjtu@info@degree@zh         \\
        \sjtu@name@major@zh            & \sjtu@info@major@zh          \\
        \sjtu@name@department@zh       & \sjtu@info@department@zh     \\
        \sjtu@name@defenddate@zh       &
          \sjtu@date{\sjtu@date@format@zh}{\sjtu@info@date}           \\
        \sjtu@name@conferring@zh       & \sjtu@name@school@zh         \\
      \end{tabular}
      \par
    \endgroup
    \vskip 26pt
  \end{center}
}
\newcommand\sjtu@make@titlepage@en{%
  \cleardoublepage
  \def\sjtu@info@fund{\zihao{-5}\sjtu@clist@use{\sjtu@info@fund@en}{\par}}
  \thispagestyle{title}
  \begin{center}
    \vspace*{28pt}
    {\zihao{-2}\sjtu@name@subject@en\par}
    \vskip \stretch{4}
    {\zihao{2}\bfseries\MakeUppercase\sjtu@info@display@title@en\par}
    \vskip \stretch{5}
    \begingroup
      \zihao{4}
      \def\arraystretch{1.25}
      \begin{tabular}{@{}>{\bfseries}l<{:~}@{}p{.45\textwidth}@{}}
        \sjtu@name@author@en           & \sjtu@info@author@en         \\
        \sjtu@name@id@en               & \sjtu@info@id                \\
        \sjtu@name@supervisor@en       & \sjtu@info@supervisor@en     \\
        \ifx\sjtu@info@assisupervisor@en\@empty\else
          \sjtu@name@assisupervisor@en & \sjtu@info@assisupervisor@en \\
        \fi
        \sjtu@name@degree@en           & \sjtu@info@degree@en         \\
        \sjtu@name@major@en            & \sjtu@info@major@en          \\
        \sjtu@name@department@en       & \sjtu@info@department@en     \\
        \sjtu@name@defenddate@en       &
          \sjtu@date{\sjtu@date@format@en}{\sjtu@info@date}           \\
        \sjtu@name@conferring@en       & \sjtu@name@school@en         \\
      \end{tabular}
      \par
    \endgroup
    \vskip 26pt
  \end{center}
}

% Title page for master of Engineering Management (SEIEE) - zh
\newcommand\sjtu@make@titlepageemseiee@zh{%
  \cleardoublepage
  \def\sjtu@info@fund{\zihao{-5}\sjtu@clist@use{\sjtu@info@fund@zh}{\par}}
  \thispagestyle{title}
  \begin{center}
    {\zihao{-3}\songti{\sjtu@name@apply@zh \sjtu@name@subjectmajor@zh}\par}
    \vskip \stretch{2}
    {\zihao{-1}\heiti\sjtu@info@display@title@zh\par}
    \vskip \stretch{3}
    \begingroup
      \zihao{4}
      \def\arraystretch{1.25}
      \begin{tabular}{@{}>{\heiti}F{t}{6.5\ccwd}@{\sjtu@colon}l@{}}
        \sjtu@name@departmentalias@zh  & \sjtu@info@department@zh     \\
        \sjtu@name@engineeringfield@zh & \sjtu@info@major@zh          \\
        \sjtu@name@sjtusupervisor@zh   & \sjtu@info@supervisor@zh     \\
        \sjtu@name@entsupervisor@zh    & \sjtu@info@assisupervisor@zh \\
        \sjtu@name@mem@zh              & \sjtu@info@author@zh         \\
        \sjtu@name@id@zh               & \sjtu@info@id                \\
      \end{tabular}
      \par
    \endgroup
    \vskip \stretch{3}
    {\zihao{4}\songti\sjtu@info@department@zh}    \\
    \sjtu@date{\sjtu@date@format@zh}{\sjtu@info@date}
  \end{center}
}

% Title page for master of Engineering Management (SEIEE) - en
\newcommand\sjtu@make@titlepageemseiee@en{%
  \cleardoublepage
  \def\sjtu@info@fund{\zihao{-5}\sjtu@clist@use{\sjtu@info@fund@en}{\par}}
  \thispagestyle{title}
  \begin{center}
    {\zihao{-3}\sjtu@name@subjectmajor@en\par}
    \vskip \stretch{3}
    {\zihao{3}\bfseries\MakeUppercase\sjtu@info@display@title@en\par}
    \vskip \stretch{4}
    \begingroup
      \zihao{-3}
      \def\arraystretch{1.25}
      \begin{tabular}{@{}>{\bfseries}l<{:~}@{}p{.45\textwidth}@{}}
        \sjtu@name@mdcandidate@en   & \sjtu@info@author@en         \\
        \sjtu@name@supervisor@en(\uppercase\expandafter{\romannumeral1})             
                                    & \sjtu@info@supervisor@en     \\
        \sjtu@name@supervisor@en(\uppercase\expandafter{\romannumeral2})
                                    & \sjtu@info@assisupervisor@en\\
        \sjtu@name@major@en            & \sjtu@info@major@en     \\ 
      \end{tabular}
      \par
      
    \endgroup
    \vskip \stretch{7}

    \begingroup
      \zihao{-3}\linespread{1.0}\selectfont
      School of Electronic, Information and Electrical Engineering \\
      \vskip 10pt
      ShanghaiJiaoTongUniversity \\
      \vskip 10pt
      Shanghai,P.R.China \\
      \vskip 10pt
      \text{\sjtu@date{\sjtu@date@format@en}{\sjtu@info@date}}
    \endgroup

  \end{center}
}

\endinput
%%
%% End of file `sjtuthesis-graduate.ltx'.
